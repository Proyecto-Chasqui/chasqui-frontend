<div ng-controller="DetalleGruposController as detalleGrupoCtrl" layout="column" ng-cloak>
	<md-card ng-if="detalleGrupoCtrl.grupo.miembros && detalleGrupoCtrl.grupo.miembros.length > 0">
		<md-subheader layout="row" layout-align="space-between center">
            <label translate>MIEMBROS_GRUPO</label>
            <md-button ng-show="detalleGrupoCtrl.canShowMemberOptions()" ng-click="detalleGrupoCtrl.showMembersOptions()">
                <ng-md-icon icon="settings" style="fill: grey"></ng-md-icon>
                <md-tooltip md-direction="bottom">
                    <label translate="TT_SHOW_ADMIN_OPTIONS"></label>
                </md-tooltip>
            </md-button>
            <md-button ng-show="detalleGrupoCtrl.canHideMemberOptions()"ng-click="detalleGrupoCtrl.hideMemberOptions()">
                <ng-md-icon icon="settings" style="fill: black"></ng-md-icon>
                <md-tooltip md-direction="bottom">
                    <label translate="TT_HIDE_ADMIN_OPTIONS"></label>
                </md-tooltip>
            </md-button>
        </md-subheader>
        
        <md-divider> 
            
        <md-list class="fixedRows">
            <md-list-item class="md-2-line contact-item selected" ng-repeat="member in detalleGrupoCtrl.miembrosVisiblesParaUsuarioLogeado()">
                <img ng-src="{{detalleGrupoCtrl.urlBase}}{{member.avatar}}" class="md-avatar" alt="{{member.nickname}}" />
                <div class="md-list-item-text compact">
                    <h4>{{::detalleGrupoCtrl.selfPara(member)}}</h4>
                    <p>{{member.email}}</p>
                </div>
                <div layout="row" layout-align="end">
                    <div layout="row" layout-align="end" ng-show="detalleGrupoCtrl.membersOptionsShowed">
                        <md-button ng-if="detalleGrupoCtrl.showCederAdministracionGrupo(member)" ng-click="detalleGrupoCtrl.cederAdministracionGrupo(member)">
                            <ng-md-icon icon="transfer_within_a_station" style="fill: orange"></ng-md-icon>
                            <md-tooltip md-direction="bottom">
                                <label translate="TT_SWAP_ADMIN"></label>
                            </md-tooltip>
                        </md-button>
                        <md-button ng-if="detalleGrupoCtrl.showRemoveGroupsMember(member)" ng-click="detalleGrupoCtrl.quitarMiembro(member)">
                            <ng-md-icon icon="remove_circle_outline" style="fill: red"></ng-md-icon>
                            <md-tooltip md-direction="bottom">
                                <label translate="QUITAR_GRUPO_MSG"></label>
                            </md-tooltip>
                        </md-button>
                    </div>
                    <div ng-if="member.invitacion == 'NOTIFICACION_NO_LEIDA'" class="md-list-item-text compact">
                        <md-icon> restore </md-icon>
                        <md-tooltip md-direction="bottom">
                            <label translate="INV_ESP_MSG"></label>
                        </md-tooltip>
                    </div>
                    <div ng-if="member.invitacion == 'NOTIFICACION_ACEPTADA'">
                        <ng-md-icon icon="done" style="fill: green" class="md-list-item-text compact"></ng-md-icon>
                        <md-tooltip md-direction="right">
                            <label translate="INV_ACEP_MSG"></label>
                        </md-tooltip>
                    </div>
                </div>
                <md-divider md-inset ng-if="!$last">
            </md-list-item>
        </md-list>
	</md-card>
</div>
