<div layout=column>
    <md-card>
      <md-subheader class="md-accent" ng-if="group.esAdministrador">
        <label translate="GRUPO_ADMIN"></label>
      </md-subheader>
      <md-card-actions layout="row" layout-align="center center" ng-if="group.esAdministrador">
        <md-button ng-click="invitarUsuario(group)">
          <md-icon> group add </md-icon>
          <md-tooltip md-direction="bottom">
            <label translate="AGREGAR_GRUPO"></label>
          </md-tooltip>
        </md-button>
        <md-button ng-click="editGroup(group)">
          <md-icon> edit </md-icon>
          <md-tooltip md-direction="bottom">
            <label translate="EDITAR_GRUPO"></label>
          </md-tooltip>
        </md-button>
        <md-button ng-if="!group.esAdministrador" ng-click="exitGroup(group)">
          <md-icon style="color: #f00;"> remove_circle_outline</md-icon>
          <md-tooltip md-direction="bottom">
            <label translate="SALIR_GRUPO"></label>
          </md-tooltip>
        </md-button>
        <md-button ng-if="group.esAdministrador" ng-click="deleteGroup(group)">
          <md-icon style="color: #f00;"> remove_circle_outline</md-icon>
          <md-tooltip md-direction="bottom">
            <label translate="ELIMINAR_GRUPO"></label>
          </md-tooltip>
        </md-button>
      </md-card-actions>
    </md-card>
    
    
    <md-card>
      <md-subheader layout="row" layout-align="space-between center">
        <label translate>MIEMBROS_GRUPO</label>
        <md-button aria-label="ShowMembersOptions" ng-show="canShowMemberOptions()" ng-click="showMembersOptions()">
          <ng-md-icon icon="settings" style="fill: grey"></ng-md-icon>
          <md-tooltip md-direction="bottom">
            <label translate="TT_SHOW_ADMIN_OPTIONS"></label>
          </md-tooltip>
        </md-button>
        <md-button aria-label="HideMembersOptions" ng-show="canHideMemberOptions()"ng-click="hideMemberOptions()">
          <ng-md-icon icon="settings" style="fill: black"></ng-md-icon>
          <md-tooltip md-direction="bottom">
            <label translate="TT_HIDE_ADMIN_OPTIONS"></label>
          </md-tooltip>
        </md-button>
      </md-subheader>

      <md-divider> 

      <md-list class="fixedRows">
          <md-list-item class="md-2-line contact-item selected" ng-repeat="member in miembrosVisiblesParaUsuarioLogeado()">
              <img ng-src="{{urlBase}}{{member.avatar}}" class="md-avatar" alt="{{member.nickname}}" />
              <div class="md-list-item-text compact">
                  <h4>{{selfPara(member)}}</h4>
                  <p>{{member.email}}</p>
              </div>
              <div layout="row" layout-align="end">
                  <div layout="row" layout-align="end" ng-show="membersOptionsShowed">
                      <md-button aria-label="showCederAdministracionGrupo" ng-show="showCederAdministracionGrupo(member)" ng-click="cederAdministracionGrupo(member)">
                          <ng-md-icon icon="transfer_within_a_station" style="fill: orange"></ng-md-icon>
                          <md-tooltip md-direction="bottom">
                              <label translate="TT_SWAP_ADMIN"></label>
                          </md-tooltip>
                      </md-button>
                      <md-button aria-label="showRemoveGroupsMember" ng-show="showRemoveGroupsMember(member)" ng-click="quitarMiembro(member)">
                          <ng-md-icon icon="remove_circle_outline" style="fill: red"></ng-md-icon>
                          <md-tooltip md-direction="bottom">
                              <label ng-if="isLoggedMember(member)" translate="SALIR_GRUPO_MSG"></label>
                              <label ng-if="!isLoggedMember(member)" translate="QUITAR_GRUPO_MSG"></label>
                          </md-tooltip>
                      </md-button>
                  </div>
                  <div ng-if="member.invitacion == 'NOTIFICACION_NO_LEIDA'" class="md-list-item-text compact">
                      <md-icon> restore </md-icon>
                      <md-tooltip md-direction="bottom">
                          <label translate="INV_ESP_MSG"></label>
                      </md-tooltip>
                  </div>
                  <div ng-if="member.invitacion == 'NOTIFICACION_ACEPTADA'">
                      <ng-md-icon icon="done" style="fill: green" class="md-list-item-text compact"></ng-md-icon>
                      <md-tooltip md-direction="right">
                          <label translate="INV_ACEP_MSG"></label>
                      </md-tooltip>
                  </div>
              </div>
              <md-divider md-inset ng-if="!$last">
          </md-list-item>
      </md-list>
    </md-card>  
</div>